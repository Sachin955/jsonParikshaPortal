<div class="container">
  <div class="form-title">
    <h3>{{ formTitle }}</h3>
  </div>

  <form id="myForm2" [formGroup]="registrationForm" (ngSubmit)="onSubmit()">
    <div class="row form">
      <div class="col-md-12" *ngFor="let control of dbData">
        <div [ngSwitch]="control.Component_Type">
          <div *ngSwitchCase="'input'">
            <div class="">
              <label
                ><h6>{{ control.Component_Label }}</h6></label
              >
            </div>
            <div>
              <input type="text" class="form-control" formControlName="name" />
              <div
                *ngIf="
                  registrationForm.get('name').invalid &&
                  registrationForm.get('name').touched
                "
              >
                <small *ngIf="registrationForm.get('name').errors?.required"
                  >*Please enter the name</small
                >
                <small *ngIf="registrationForm.get('name').errors?.minlength"
                  >*Name must be at least 3 characters</small
                >
              </div>
            </div>
          </div>

          <div *ngSwitchCase="'password'">
            <div class="">
              <label
                ><h6>{{ control.Component_Label }}</h6></label
              >
            </div>
            <div class="">
              <input
                type="password"
                class="form-control"
                formControlName="password"
              />
              <div
                *ngIf="
                  registrationForm.get('password').invalid &&
                  registrationForm.get('password').touched
                "
              >
                <small *ngIf="registrationForm.get('password').errors?.required"
                  >*Please enter the password</small
                >
                <small
                  *ngIf="registrationForm.get('password').errors?.minlength"
                  >*Password must be at least 6 characters</small
                >
              </div>
            </div>
          </div>

          <div *ngSwitchCase="'contact'">
            <div class="">
              <label
                ><h6>{{ control.Component_Label }}</h6></label
              >
            </div>
            <div class="">
              <input
                type="tel"
                class="form-control"
                formControlName="contact"
              />
            </div>
            <div
              *ngIf="
                registrationForm.get('contact').invalid &&
                registrationForm.get('contact').touched
              "
            >
              <small *ngIf="registrationForm.get('contact').errors?.required"
                >*Please enter the mobile No.</small
              >
              <small *ngIf="registrationForm.get('contact').errors?.pattern"
                >*contact should be in digit.</small
              >
            </div>
          </div>

          <div *ngSwitchCase="'email'">
            <div class="">
              <label
                ><h6>{{ control.Component_Label }}</h6></label
              >
            </div>
            <div class="">
              <input
                type="email"
                class="form-control"
                formControlName="email"
              />
              <!-- <div formArrayName="alternateEmails" >
                <input type="email" class="form-control">

              </div> -->
              <div>
                <button type="button" (click)="addAlternateEmails()">Add Emails</button>
              </div>

            </div>
            <div
              *ngIf="
                registrationForm.get('email').invalid &&
                registrationForm.get('email').touched
              "
            >
              <small *ngIf="registrationForm.get('email').errors?.email"
                >*Email required</small
              >

              <small *ngIf="registrationForm.get('email').errors?.email"
                >*invalid Email</small
              >
            </div>
          </div>

          <div *ngSwitchCase="'date'">
            <div class="">
              <label
                ><h6>{{ control.Component_Label }}</h6></label
              >
            </div>
            <div class="">
              <input type="date" class="form-control" formControlName="date" />
            </div>
            <div
              *ngIf="
                registrationForm.get('date').invalid &&
                registrationForm.get('date').touched
              "
            >
              <small *ngIf="registrationForm.get('date').errors?.required"
                >*please mention you date of birth
              </small>
            </div>
          </div>

          <div *ngSwitchCase="'radio'">
            <div class="">
              <label
                ><h6>{{ control.Component_Label }}</h6></label
              >
            </div>
            <div class="">
              <label *ngFor="let val of control.Component_value.split(',')">
                <input
                  type="radio"
                  value="{{ val }}"
                  formControlName="gender"
                />
                {{ val }}
              </label>
            </div>
          </div>
          <div >
            <div *ngSwitchCase="'select'">
              <div class="">
                <label
                  ><h6>{{ control.Component_Label }}</h6></label
                >
              </div>
              <div class="">
                <select class="form-control" formControlName="state">
                  <option
                    *ngFor="let val of control.Component_value.split(',')"
                    value="{{ val }}"
                  >
                    {{ val }}
                  </option>
                </select>
                <div
                  *ngIf="
                    registrationForm.get('state').invalid &&
                    registrationForm.get('state').touched
                  "
                >
                  <small *ngIf="registrationForm.get('state').errors?.required">
                    *select state
                  </small>
                </div>
              </div>
            </div>
          </div>
          <br />
          <div *ngSwitchCase="'checkbox'">
            <div class="undertaking_checkbox">
              <input type="checkbox" formControlName="checkbox" />
              <label>I hereby confirm the identity and address.</label>
            </div>
          </div>
        </div>
      </div>
    </div>
    <br />
    <div class="row">
      <button
        type="submit"
        class="submit-btn"
      >
        Submit
      </button>
    </div>
  </form>
</div>
